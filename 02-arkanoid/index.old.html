<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
  <title>Arkanoid</title>
  <style>
    body{
      background-color: #111;
    }
    canvas{
      border: 4px white solid;
      border-bottom: transparent;
      background: #000;
      margin:0 auto;
      display: block;
    }
  </style>
<body>
  <canvas>
    hola
  </canvas>
</body>

<script>
  const canvas = document.querySelector('canvas')
  const ctx = canvas.getContext('2d')

  canvas.width = 333
  canvas.height= 333

  // VARIABLES DEL NUESTRO JUEGO

  const ballRadius = 4;
  let x = canvas.width /2
  let y = canvas.height - 30
  let dx = -2
  let dy = -2


  function drawBall(){
    ctx.beginPath()
    ctx.arc(x, y, ballRadius, 0, Math.PI*2)
    ctx.fillStyle = '#fff'
    ctx.fill()
    ctx.closePath()
  }
  function drawPaddle(){}
  function drawBricks(){}

  function collisionDetection(){}
  function ballMovement(){
    if(
      x + dx > canvas.width - ballRadius || 
      x + dx < ballRadius
    ){
      dx = -dx
    }
    if(
      y + dy < ballRadius
  ){
     dy = -dy  
    }
    if(
    y + dy < canvas.height - ballRadius
    ){
      console.log('game over')
      document.location.reload()
    }
    x += dx
    y += dy
  }
    
  function paddleMovement(){}
  function cleanCanvas(){
    ctx.clearRect(0,0, canvas.width, canvas.height)
  }

  function draw() {
    cleanCanvas()
    // AQUÍ DIBUJAMOS LOS ELEMENTOS
    drawBall()
    drawPaddle()
    drawBricks()

    // AQUÍ DIBUJAMOS EL SCORE DEL JUEGO

    // AQUÍ COLISIONES Y MOVIMIENTOS
    collisionDetection()
    ballMovement()
    paddleMovement()

    window.requestAnimationFrame(draw)
  }

  draw()
</script>
</html>